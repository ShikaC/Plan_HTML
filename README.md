# 🎯 智能学习计划管理系统

一个功能完整的全栈学习计划管理应用，采用前后端分离架构，集成用户认证、智能任务管理、增强日历视图、数据同步等功能。通过直观的界面和强大的功能帮助用户高效管理学习计划，追踪学习进度。

**✨ 最新更新**：项目已完成Vue3现代化迁移，提供原生HTML版本和Vue3版本两套完整的前端实现！

## 🚀 项目版本

本项目提供两个版本供选择：

### 📱 Vue3现代化版本 (推荐)
- **技术栈**：Vue 3.4 + Vite 5.0 + Pinia 2.1 + Tailwind CSS 3.4 + Axios
- **特性**：组件化架构、响应式状态管理、现代化构建工具、TypeScript支持
- **位置**：`frontend/` 目录
- **启动**：`cd frontend && npm run dev`

### 🔧 原生HTML版本
- **技术栈**：HTML5 + JavaScript ES6+ + Tailwind CSS 
- **特性**：无构建依赖、直接运行、轻量级
- **位置**：项目根目录的HTML文件
- **启动**：`python3 -m http.server 8000`

## 🌟 核心特性

### 📅 增强日历系统 ⭐ 
- **智能状态小点**：日历中每个日期根据任务完成情况显示不同颜色的状态指示
  - 🔴 **红色**：当天有任务，全部未完成
  - 🟠 **橙色**：当天有任务，部分完成  
  - 🟢 **绿色**：当天有任务，全部完成
  - ⚪ **无小点**：当天没有任务
- **点击日期查看**：点击日历日期即可查看当天任务，告别弹窗干扰
- **当日任务专区**：独立的当日任务显示区域，与任务总览完全分离
- **任务高亮显示**：选中日期的任务在总览中智能高亮标识
- **实时状态同步**：任务状态变化时立即更新日历小点和统计信息
- **月度导航**：支持月份切换，查看不同时期的任务安排
- **任务筛选**：支持显示全部任务或仅显示已完成任务

### 🔐 用户认证系统
- **安全认证**：JWT令牌认证，密码BCrypt加密存储
- **用户管理**：注册、登录、登出完整流程
- **权限控制**：API接口认证保护，确保数据安全

### 📝 智能任务管理
- **任务CRUD**：完整的任务增删改查操作
- **状态切换**：一键标记任务完成/未完成
- **任务筛选**：支持显示/隐藏已完成任务
- **任务高亮**：选中日期的任务在总览中智能高亮显示
- **实时更新**：任务状态改变时立即更新日历状态和统计信息

### 💾 数据同步功能
- **本地存储**：未登录时使用浏览器本地存储
- **云端同步**：登录后自动同步本地数据到服务器
- **跨设备同步**：支持多设备间数据同步
- **离线支持**：网络断开时继续使用本地功能

### 📊 进度可视化
- **图表展示**：使用Chart.js绘制精美的甜甜圈图
- **实时统计**：动态显示任务完成率和进度
- **视觉反馈**：直观的进度条和状态指示器

### 🎨 用户体验
- **响应式设计**：完美适配桌面、平板和移动设备
- **现代UI**：基于Tailwind CSS的现代化界面设计
- **交互友好**：流畅的动画效果和直观的操作体验
- **无障碍访问**：支持键盘导航和屏幕阅读器

## 🛠️ 技术架构

### Vue3版本技术栈 (推荐)
- **核心框架**：Vue 3.4.0 - 现代化前端框架
- **状态管理**：Pinia 2.1.0 - 轻量级状态管理
- **构建工具**：Vite 5.0.0 - 高性能构建工具
- **HTTP客户端**：Axios 1.6.0 - API请求处理
- **CSS框架**：Tailwind CSS 3.4.0 - 现代化响应式设计
- **图标库**：Font Awesome v6 - 丰富的图标资源
- **组件架构**：11个Vue组件，完全模块化设计

### 原生HTML版本技术栈
- **核心技术**：HTML5、CSS3、JavaScript (ES6+)
- **CSS框架**：Tailwind CSS v3 - 现代化响应式设计
- **图标库**：Font Awesome v6 - 丰富的图标资源
- **图表库**：Chart.js v4 - 数据可视化
- **构建工具**：原生JavaScript，无需构建步骤

### 后端技术栈
- **运行环境**：Node.js
- **Web框架**：Express.js - 轻量级Web应用框架
- **数据库**：SQLite3 - 轻量级文件数据库
- **认证**：JWT (JSON Web Tokens) - 无状态认证
- **密码加密**：bcryptjs - 安全的密码哈希
- **跨域支持**：CORS - 跨域资源共享

### 部署技术
- **容器化**：Docker - 一键部署
- **Web服务器**：Nginx - 高性能静态文件服务
- **进程管理**：PM2 (可选) - 生产环境进程管理
- **反向代理**：Nginx - 前后端代理配置

## 🚀 快速开始

### 🎯 推荐：Vue3现代化版本

#### 1. 启动后端服务
```bash
cd backend
npm install
npm start
```
后端API服务将在 `http://localhost:3001` 启动

#### 2. 启动Vue3前端服务
```bash
cd frontend
npm install
npm run dev
```
Vue3前端应用将在 `http://localhost:3000` 启动

### 🔧 备选：原生HTML版本

#### 1. 启动后端服务
```bash
cd backend
npm install
npm start
```

#### 2. 启动HTML前端服务
```bash
# 在项目根目录
python3 -m http.server 8000
```
访问 `http://localhost:8000`

### 📦 Docker 部署 (原生HTML版本)

#### 方式一：使用预构建镜像
```bash
# 拉取镜像
docker pull shika1201/study-planner:latest

# 运行容器
docker run -d -p 8080:80 --name study-planner shika1201/study-planner:latest

# 查看运行状态
docker ps | grep study-planner

# 查看健康状态
curl http://localhost:8080/health
```

#### 方式二：本地构建镜像
```bash
# 克隆项目
git clone <repository-url>
cd study-planner

# 构建镜像
docker build -t study-planner:latest .

# 运行容器
docker run -d -p 8080:80 --name study-planner study-planner:latest

# 查看容器日志
docker logs study-planner
```

### 🌐 Linux 服务器部署

#### 使用一键部署脚本
```bash
# 赋予执行权限
chmod +x deploy.sh

# 一键部署
./deploy.sh

# 查看服务状态
./deploy.sh --status

# 停止服务
./deploy.sh --stop
```

## 📁 项目结构

```
study-planner/
├── frontend/                    # Vue3现代化前端
│   ├── src/
│   │   ├── components/         # Vue组件 (11个)
│   │   │   ├── App.vue          # 根组件
│   │   │   ├── AuthHeader.vue   # 认证头部
│   │   │   ├── AppHeader.vue    # 应用标题
│   │   │   ├── TodayTasks.vue   # 当日任务
│   │   │   ├── AllTasks.vue     # 任务总览
│   │   │   ├── TaskItem.vue     # 任务项
│   │   │   ├── CalendarView.vue # 日历视图
│   │   │   ├── CalendarLegend.vue # 日历图例
│   │   │   ├── ProgressChart.vue # 进度图表
│   │   │   ├── TaskModal.vue    # 任务编辑模态框
│   │   │   └── AuthModal.vue    # 认证模态框
│   │   ├── stores/             # Pinia状态管理
│   │   │   ├── auth.js         # 用户认证store
│   │   │   └── task.js         # 任务管理store
│   │   ├── services/           # API服务层
│   │   │   └── api.js          # API请求封装
│   │   └── main.js             # Vue应用入口
│   ├── package.json            # 依赖配置
│   ├── vite.config.js          # Vite构建配置
│   ├── tailwind.config.js      # Tailwind配置
│   └── postcss.config.js       # PostCSS配置
├── backend/                     # 后端服务
│   ├── server.js               # Express 服务器 (276行，含健康检查)
│   ├── package.json            # 依赖配置
│   ├── package-lock.json       # 锁定依赖版本
│   ├── database.db             # SQLite 数据库 (用户数据)
│   └── node_modules/           # 依赖包
├── index.html                  # 原生HTML主应用页面 (集成增强日历)
├── test.html                   # 增强日历功能演示页面
├── script.js                   # 原生版本业务逻辑 (550行)
├── style.css                   # 原生版本样式
├── deploy.sh                   # 一键部署脚本 (Linux服务器)
├── docker-deploy.sh            # Docker镜像构建推送脚本
├── Dockerfile                  # Docker 构建文件 (优化版多阶段构建)
├── nginx.conf                  # Nginx 配置文件
├── start.sh                    # 容器启动脚本
├── health_check.sh             # 健康检查脚本
├── README.md                   # 项目说明文档
├── Vue3迁移完成总结.md          # Vue3迁移技术报告
├── Vue3快速启动指南.md          # Vue3使用指南
├── 功能同步完成总结.md           # 增强日历功能开发总结
├── test功能说明.md              # 增强日历功能详细说明
├── 部署状态.md                 # 部署状态记录
└── README和Dockerfile更新任务.md # 更新任务跟踪
```

## 🎯 功能详解

### 🔍 增强日历功能
- **智能任务显示**：点击日历日期时，在专门的"当日任务"区域显示选中日期的任务
- **状态小点系统**：根据任务完成情况在日历上显示不同颜色的状态指示点
  - 红色：当天有任务但全部未完成
  - 橙色：当天有任务且部分完成
  - 绿色：当天有任务且全部完成
  - 无小点：当天没有任务
- **任务筛选**：支持"显示全部任务"和"仅显示已完成任务"两种显示模式
- **实时同步**：任务状态变化时立即更新日历显示和统计信息
- **任务高亮**：选中日期的任务在总览中会高亮显示并标记为"当天任务"
- **视觉分离**：当日任务和任务总览完全分离，避免界面混乱

### 👤 用户系统
- **注册登录**：安全的用户注册和登录流程
- **会话管理**：基于JWT的无状态认证机制
- **数据隔离**：每个用户的数据完全独立和安全

### 📋 任务管理
- **任务创建**：支持设置任务名称、截止日期等信息
- **状态管理**：一键切换任务完成状态，实时更新所有相关显示
- **任务编辑**：支持修改任务信息和截止日期
- **任务删除**：安全的任务删除操作

### 📊 数据统计
- **完成率**：实时计算和显示任务完成比例
- **图表展示**：使用Chart.js绘制美观的进度图表
- **状态统计**：显示总任务数、已完成数、待完成数等统计信息

## 🔧 API 接口

### 系统接口
- `GET /api/health` - 系统健康检查
  - 返回服务状态、数据库连接状态、时间戳等信息
  - 用于Docker健康检查和服务监控

### 用户认证接口
- `POST /api/register` - 用户注册
- `POST /api/login` - 用户登录

### 任务管理接口 (需要JWT认证)
- `GET /api/tasks` - 获取任务列表
- `POST /api/tasks` - 创建新任务
- `PUT /api/tasks/:id` - 更新任务
- `DELETE /api/tasks/:id` - 删除任务
- `POST /api/tasks/sync` - 同步本地任务到服务器

## 🌐 访问地址

### Vue3现代化版本 (推荐)
- **Vue3主应用**：http://localhost:3000/ (完整功能)
- **后端API**：http://localhost:3001/api/

### 原生HTML版本
- **HTML主应用**：http://localhost:8000/ (集成增强日历功能)
- **增强日历演示**：http://localhost:8000/test.html (功能演示页面)
- **后端API**：http://localhost:3001/api/

### Docker 部署
- **主应用**：http://localhost:8080/ (完整功能)
- **增强日历演示**：http://localhost:8080/test.html (功能演示)
- **API服务**：http://localhost:8080/api/ (通过Nginx代理)

### 服务器部署
- **前端服务**：http://YOUR_SERVER_IP:8000/
- **后端API**：http://YOUR_SERVER_IP:3001/api/
- **增强日历演示**：http://YOUR_SERVER_IP:8000/test.html

### 功能说明
- **主应用** (`index.html`)：包含完整的用户系统、任务管理和增强日历功能
- **演示页面** (`test.html`)：专门用于展示增强日历功能的测试页面，包含模拟数据

## 🛡️ 安全特性

- ✅ **JWT认证**：无状态的令牌认证机制
- ✅ **密码加密**：使用bcryptjs进行密码哈希
- ✅ **CORS保护**：配置跨域资源共享策略
- ✅ **SQL防注入**：使用参数化查询防止SQL注入
- ✅ **数据验证**：前后端双重数据验证

## 🔄 数据同步机制

1. **离线模式**：未登录时使用浏览器localStorage存储数据
2. **登录同步**：登录时自动将本地数据同步到服务器
3. **实时同步**：操作任务时立即同步到服务器
4. **冲突解决**：采用服务器优先策略解决数据冲突

## 📱 响应式设计

- **桌面端**：完整功能，大屏幕优化布局
- **平板端**：适配中等屏幕，保持功能完整性
- **移动端**：触控友好，紧凑布局，核心功能保留

## 🎨 UI/UX 设计

- **现代化界面**：基于Tailwind CSS的现代设计语言
- **一致性**：统一的颜色方案和交互模式
- **可访问性**：支持键盘导航和无障碍访问
- **动画效果**：流畅的过渡动画和交互反馈

## 🔍 使用指南

### 基本使用流程
1. **注册账号**：创建个人账户
2. **添加任务**：设置学习任务和截止日期
3. **查看日历**：通过日历查看任务分布
4. **管理任务**：标记完成状态，编辑或删除任务
5. **查看进度**：通过图表了解学习进度

### 高级功能
- **任务筛选**：使用筛选功能查看特定状态的任务
- **日期选择**：点击日历日期查看当天任务详情
- **数据同步**：在多设备间同步学习数据
- **离线使用**：无网络时继续使用本地功能

## 🚨 故障排除

### 常见问题

**Q: 无法访问应用**
- 检查服务是否启动：`./deploy.sh --status`
- 检查端口是否占用：`netstat -tulpn | grep :8000`
- 检查防火墙设置

**Q: 数据无法同步**
- 确保后端服务正常运行
- 检查网络连接
- 查看浏览器控制台错误信息

**Q: 任务状态未更新**
- 刷新页面重试
- 检查登录状态
- 清除浏览器缓存

## 📈 开发计划

### 已完成功能 ✅
- [x] 基础任务管理系统
- [x] 用户认证系统
- [x] 数据同步功能
- [x] 增强日历功能
- [x] 状态小点系统
- [x] 进度可视化
- [x] 响应式设计
- [x] **Vue3现代化迁移** 
  - [x] Vue3 + Vite项目架构
  - [x] 11个Vue组件重构
  - [x] Pinia状态管理
  - [x] API服务层封装
  - [x] 完整功能迁移

### 计划中功能 🔄
- [ ] 任务提醒功能
- [ ] 数据导出功能
- [ ] 主题切换功能
- [ ] 多语言支持
- [ ] 移动端App

## 🤝 贡献指南

欢迎提交Issues和Pull Requests来帮助改进项目！

## 📄 许可证

本项目采用MIT许可证开源。

---

## 🎉 立即开始

选择您喜欢的部署方式，开始您的智能学习计划管理之旅！

**🚀 推荐：Vue3现代化版本**：
```bash
# 启动后端
cd backend && npm install && npm start

# 启动Vue3前端
cd frontend && npm install && npm run dev
```

**🌐 访问应用**：http://localhost:3000

**🐳 备选：Docker一键部署** (原生HTML版本)：
```bash
docker run -d -p 8080:80 shika1201/study-planner:latest
```

让智能学习计划管理系统助您高效学习，追踪进度，实现目标！✨